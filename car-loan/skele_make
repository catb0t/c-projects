FILENAME:=$(shell basename `pwd`)

DEBUG_OPTS=-Wall -Wextra -Wfloat-equal -Wundef -Werror -fverbose-asm -Wint-to-pointer-cast -Wshadow -Wpointer-arith -Wcast-align -Wstrict-prototypes -Wcast-qual -Wmissing-prototypes -Wstrict-overflow=5 -Wwrite-strings -Wconversion --pedantic-errors -std=gnu11 -ggdb

all: normal debug

normal: $(FILENAME).c $(FILENAME).h
	gcc -std=gnu11 -lm -o $(FILENAME) $(FILENAME).c

debug: $(FILENAME).c $(FILENAME).h
	gcc -std=gnu11 -lm $(DEBUG_OPTS) -o debug_$(FILENAME) $(FILENAME).c

clean:
	rm $(FILENAME) debug_$(FILENAME) core